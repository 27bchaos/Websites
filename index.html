<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Challenge Balloon Pop Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: #f0f0f0;
      overflow: hidden;
    }

    canvas {
      border: 2px solid #000;
      background-color: #e0f7fa;
    }

    #wordInput {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px;
      font-size: 18px;
      width: 70%;
      max-width: 300px;
    }

    #submitBtn {
      position: fixed;
      bottom: 70px;
      left: 50%;
      transform: translateX(-50%);
      padding: 10px 20px;
      font-size: 18px;
      cursor: pointer;
      width: 70%;
      max-width: 300px;
    }

    #score {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 24px;
      font-weight: bold;
    }

    #gameOver {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 40px;
      font-weight: bold;
      color: red;
      text-align: center;
    }
  </style>
</head>
<body>

  <canvas id="gameCanvas" width="800" height="600"></canvas>
  <input type="text" id="wordInput" placeholder="Type the word" />
  <button id="submitBtn">Submit</button>
  <div id="score">Score: 0</div>
  <div id="gameOver" style="display: none;">Game Over!</div>

  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const wordInput = document.getElementById('wordInput');
    const submitBtn = document.getElementById('submitBtn');
    const scoreDiv = document.getElementById('score');
    const gameOverDiv = document.getElementById('gameOver');

    // Array of words for the game
    const words = [
      "alphabet", "astronaut", "bicycle", "camera", "planet", "rocket", "school", "library", "notebook", "pencil",
      "computer", "keyboard", "monitor", "screen", "website", "internet", "email", "printer", "scissors", "ruler",
      "calculator", "backpack", "chalkboard", "teacher", "student", "classroom", "desk", "chair", "book", "pen"
    ];

    let score = 0;
    let balloon = null;  // Only one balloon at a time
    let gameOver = false;
    let wordInputValue = '';

    class Balloon {
      constructor(word) {
        this.word = word;
        this.x = canvas.width / 2 - 50;  // Centered horizontally
        this.y = canvas.height + 50;  // Start from below the canvas
        this.speed = 2; // Normal speed
      }

      draw() {
        ctx.beginPath();
        ctx.arc(this.x + 50, this.y, 40, 0, Math.PI * 2);
        ctx.fillStyle = '#ff6347';
        ctx.fill();
        ctx.closePath();

        ctx.fillStyle = '#fff';
        ctx.font = '20px Arial';
        ctx.fillText(this.word, this.x + 10, this.y - 10);
      }

      update() {
        this.y -= this.speed;
        if (this.y < 0) {
          gameOver = true;  // End the game if balloon goes out of view
        }
      }
    }

    // Function to spawn a balloon with a random word
    function spawnBalloon() {
      const word = words[Math.floor(Math.random() * words.length)];
      balloon = new Balloon(word);
    }

    // Function to check if typed word matches the balloon's word
    function checkWordMatch() {
      if (wordInputValue.trim().toLowerCase() === balloon.word.toLowerCase()) {
        score += 100;
        spawnBalloon();  // Spawn a new balloon after popping the current one
        wordInputValue = '';  // Clear the input field
      }
    }

    function drawGame() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      if (balloon) {
        balloon.update();
        balloon.draw();
      }

      scoreDiv.textContent = `Score: ${score}`;

      if (gameOver) {
        gameOverDiv.style.display = 'block';
      }
    }

    function updateGame() {
      if (gameOver) return;

      drawGame();
      requestAnimationFrame(updateGame);
    }

    // Event listener for word submission
    submitBtn.addEventListener('click', () => {
      wordInputValue = wordInput.value.toLowerCase().trim();
      wordInput.value = '';  // Clear the input field
      checkWordMatch();
    });

    // Start the game by spawning the first balloon and entering the game loop
    spawnBalloon();
    updateGame();
  </script>

</body>
</html>
